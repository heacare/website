{{ define "main" }}
  <div class="py-2 sm:py-20 bg-neutral-50">
    <div class="flex items-center justify-center my-20 px-8">
      <img
        class="w-16 -m-3 mix-blend-darken"
        src="{{ .Site.Params.navbar.logo | relURL }}"
      />
      <span class="font-bold text-2xl tracking-tight ml-4"
        >Happily Ever After</span
      >
    </div>
    <div class="mx-auto max-w-md sm:max-w-2xl -rotate-1 py-2">
      <main class="m-6 my-12 bg-white rounded-lg shadow-lg">
        {{ with .Params.letter.subject }}
          <h1
            class="px-12 py-4 text-lg font-bold border-b-2 border-neutural-200"
          >
            {{ . }}
          </h1>
        {{ end }}
        <section class="px-12 py-8 prose text-justify text-lg leading-loose">
          {{ .Content }}
        </section>
      </main>

      <form
        class="m-6 my-12 bg-white rounded-lg shadow-lg"
        method="POST"
        action="{{ .Params.email.action }}"
      >
        {{ with .Params.email.cta }}
          <h1
            class="px-12 py-4 text-lg font-bold border-b-2 border-neutural-200"
          >
            {{ . }}
          </h1>
        {{ end }}
        <section class="px-12 py-2">
          {{ with .Params.email.details }}
            <p class="my-6 prose">
              {{ . }}
            </p>
          {{ end }}
          <div class="my-6 flex flex-col sm:flex-row justify-center gap-4">
            <input
              class="{{ .Site.Params.style.inputText }} flex-1"
              size="8"
              type="email"
              name="EMAIL"
              required
              placeholder="Enter your email address"
            />
            <input type="hidden" name="{{ .Params.email.key }}" value="" />
            <input type="hidden" name="tags" value="{{ .Params.email.tags }}" />
            <button
              class="{{ .Site.Params.style.button }} whitespace-nowrap"
              type="submit"
              name="subscribe"
            >
              {{ .Params.email.submit }}
            </button>
          </div>
        </section>
      </form>

      <div class="m-6 my-12 bg-white rounded-lg shadow-lg">
        {{ with .Params.community.cta }}
          <h1
            class="px-12 py-4 text-lg font-bold border-b-2 border-neutural-200"
          >
            {{ . }}
          </h1>
        {{ end }}
        <section class="px-12 py-2">
          <p class="my-6 text-center">
            {{ with .Params.telegram }}
              <a
                class="{{ $.Site.Params.style.button }} whitespace-nowrap my-1"
                href="{{ .link }}"
              >
                {{ .go }}
              </a>
            {{ end }}
            {{ with .Params.whitepaper }}
              <a
                class="{{ $.Site.Params.style.button }} whitespace-nowrap my-1"
                href="{{ .link }}"
              >
                {{ .go }}
              </a>
            {{ end }}
          </p>
        </section>
      </div>

      <div class="m-6 my-12 flex justify-center gap-6">
        {{ range $social := .Site.Params.socials }}
          <a
            class="inline-block leading-none text-gray-700 hover:text-gray-800"
            target="_blank"
            href="{{ .url }}"
            title="{{ .username }}"
            >{{ with printf "icons/%s.svg" .icon | resources.Get | resources.Minify }}
              {{ .Content | replaceRE "^<svg" "<svg class=\"h-10 fill-current\"" | safeHTML }}
            {{ end }}</a
          >
        {{ end }}
      </div>
    </div>
  </div>
{{ end }}
